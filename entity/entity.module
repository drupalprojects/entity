<?php

// $Id$

/**
 * @file
 * Module for the entity API.
 */

spl_autoload_register('entity_autoload');

/**
 * Autoload API includes. Note that the code registry autoload is used only
 * by the providing API module.
 */
function entity_autoload($class) {
  if (stripos($class, 'faces') === 0) {
    module_load_include('inc', 'entity', 'faces');
  }
}

if (!class_exists('EntityAPIController', FALSE)) {
  // In rare cases another module shipping with entity.inc might have already
  // included its own version. Usually we run first, so our version will be
  // included, but in cases like test execution we might not run first.
  module_load_include('inc', 'entity', 'entity');
}